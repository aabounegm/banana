<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE CPP                   #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances     #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE MultiParamTypeClasses #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE TypeFamilies          #-}</span><span class="hs-cpp">

#ifndef MIN_VERSION_lens
</span><span class="hs-cpp">#define MIN_VERSION_lens(x,y,z) 1
</span><span class="hs-cpp">#endif
</span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-10"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-11"></span><span class="hs-comment">-- Module      :  Text.Trifecta.Util.IntervalMap</span><span>
</span><span id="line-12"></span><span class="hs-comment">-- Copyright   :  (c) Edward Kmett 2011-2019</span><span>
</span><span id="line-13"></span><span class="hs-comment">--                (c) Ross Paterson 2008</span><span>
</span><span id="line-14"></span><span class="hs-comment">-- License     :  BSD-style</span><span>
</span><span id="line-15"></span><span class="hs-comment">-- Maintainer  :  ekmett@gmail.com</span><span>
</span><span id="line-16"></span><span class="hs-comment">-- Stability   :  experimental</span><span>
</span><span id="line-17"></span><span class="hs-comment">-- Portability :  non-portable (MPTCs, type families, functional dependencies)</span><span>
</span><span id="line-18"></span><span class="hs-comment">--</span><span>
</span><span id="line-19"></span><span class="hs-comment">-- Interval maps implemented using the 'FingerTree' type, following</span><span>
</span><span id="line-20"></span><span class="hs-comment">-- section 4.8 of</span><span>
</span><span id="line-21"></span><span class="hs-comment">--</span><span>
</span><span id="line-22"></span><span class="hs-comment">--    * Ralf Hinze and Ross Paterson,</span><span>
</span><span id="line-23"></span><span class="hs-comment">--      \&quot;Finger trees: a simple general-purpose data structure\&quot;,</span><span>
</span><span id="line-24"></span><span class="hs-comment">--      /Journal of Functional Programming/ 16:2 (2006) pp 197-217.</span><span>
</span><span id="line-25"></span><span class="hs-comment">--      &lt;http://www.soi.city.ac.uk/~ross/papers/FingerTree.html&gt;</span><span>
</span><span id="line-26"></span><span class="hs-comment">--</span><span>
</span><span id="line-27"></span><span class="hs-comment">-- An amortized running time is given for each operation, with /n/</span><span>
</span><span id="line-28"></span><span class="hs-comment">-- referring to the size of the priority queue.  These bounds hold even</span><span>
</span><span id="line-29"></span><span class="hs-comment">-- in a persistent (shared) setting.</span><span>
</span><span id="line-30"></span><span class="hs-comment">--</span><span>
</span><span id="line-31"></span><span class="hs-comment">-- /Note/: Many of these operations have the same names as similar</span><span>
</span><span id="line-32"></span><span class="hs-comment">-- operations on lists in the &quot;Prelude&quot;.  The ambiguity may be resolved</span><span>
</span><span id="line-33"></span><span class="hs-comment">-- using either qualification or the @hiding@ clause.</span><span>
</span><span id="line-34"></span><span class="hs-comment">--</span><span>
</span><span id="line-35"></span><span class="hs-comment">-- Unlike &quot;Data.IntervalMap.FingerTree&quot;, this version sorts things so</span><span>
</span><span id="line-36"></span><span class="hs-comment">-- that the largest interval from a given point comes first. This way</span><span>
</span><span id="line-37"></span><span class="hs-comment">-- if you have nested intervals, you get the outermost interval before</span><span>
</span><span id="line-38"></span><span class="hs-comment">-- the contained intervals.</span><span>
</span><span id="line-39"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-40"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Text.Trifecta.Util.IntervalMap</span><span>
</span><span id="line-41"></span><span>  </span><span class="hs-special">(</span><span>
</span><span id="line-42"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Intervals</span></span><span>
</span><span id="line-43"></span><span>    </span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#Interval"><span class="hs-identifier">Interval</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-44"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Interval maps</span></span><span>
</span><span id="line-45"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#IntervalMap"><span class="hs-identifier">IntervalMap</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#singleton"><span class="hs-identifier">singleton</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#insert"><span class="hs-identifier">insert</span></a></span><span>
</span><span id="line-46"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Searching</span></span><span>
</span><span id="line-47"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#search"><span class="hs-identifier">search</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#intersections"><span class="hs-identifier">intersections</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#dominators"><span class="hs-identifier">dominators</span></a></span><span>
</span><span id="line-48"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Prepending an offset onto every interval in the map</span></span><span>
</span><span id="line-49"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#offset"><span class="hs-identifier">offset</span></a></span><span>
</span><span id="line-50"></span><span>  </span><span class="annot"><span class="hs-comment">-- * The result monoid</span></span><span>
</span><span id="line-51"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#IntInterval"><span class="hs-identifier">IntInterval</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-52"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#fromList"><span class="hs-identifier">fromList</span></a></span><span>
</span><span id="line-53"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span class="hs-cpp">

#if __GLASGOW_HASKELL__ &lt; 710
</span><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Control.Applicative</span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">empty</span><span class="hs-special">)</span><span>
</span><span id="line-57"></span><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Data.Foldable</span><span>       </span><span class="hs-special">(</span><span class="hs-identifier">Foldable</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">foldMap</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-cpp">
#endif
</span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Foldable.WithIndex</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">WithIndex</span></span><span class="hs-cpp">
#if MIN_VERSION_lens(4,13,0) &amp;&amp; __GLASGOW_HASKELL__ &gt;= 710
</span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Lens</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Lens</span></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-operator">(:&lt;)</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-operator">(&lt;|)</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-operator">(|&gt;)</span></span><span class="hs-special">)</span><span class="hs-cpp">
#else
</span><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Control.Lens</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="hs-identifier">Lens</span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-operator">&lt;|</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-operator">|&gt;</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-cpp">
#endif
</span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.FingerTree</span></span><span>
</span><span id="line-66"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">FingerTree</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Measured</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">ViewL</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-operator">(&lt;|)</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-operator">(&gt;&lt;)</span></span><span class="hs-special">)</span><span>
</span><span id="line-67"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.FingerTree</span></span><span>        </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">FT</span></span><span>
</span><span id="line-68"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Functor.WithIndex</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">WithIndex</span></span><span class="hs-cpp">
#if !(MIN_VERSION_base(4,11,0))
</span><span class="hs-keyword">import</span><span>           </span><span class="hs-identifier">Data.Semigroup</span><span class="hs-cpp">
#endif
</span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Semigroup.Reducer</span></span><span>
</span><span id="line-73"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Semigroup.Union</span></span><span>
</span><span id="line-74"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Traversable.WithIndex</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">WithIndex</span></span><span>
</span><span id="line-75"></span><span>
</span><span id="line-76"></span><span class="hs-comment">----------------------------------</span><span>
</span><span id="line-77"></span><span class="hs-comment">-- 4.8 Application: interval trees</span><span>
</span><span id="line-78"></span><span class="hs-comment">----------------------------------</span><span>
</span><span id="line-79"></span><span>
</span><span id="line-80"></span><span class="hs-comment">-- | A closed interval.  The lower bound should be less than or equal</span><span>
</span><span id="line-81"></span><span class="hs-comment">-- to the higher bound.</span><span>
</span><span id="line-82"></span><span class="hs-keyword">data</span><span> </span><span id="Interval"><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#Interval"><span class="hs-identifier hs-var">Interval</span></a></span></span><span> </span><span id="local-6989586621679235999"><span class="annot"><a href="#local-6989586621679235999"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Interval"><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#Interval"><span class="hs-identifier hs-var">Interval</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="low"><span class="annot"><span class="annottext">Interval v -&gt; v
</span><a href="Text.Trifecta.Util.IntervalMap.html#low"><span class="hs-identifier hs-var hs-var">low</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679235999"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span id="high"><span class="annot"><span class="annottext">Interval v -&gt; v
</span><a href="Text.Trifecta.Util.IntervalMap.html#high"><span class="hs-identifier hs-var hs-var">high</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679235999"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-83"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621679235595"><span id="local-6989586621679235597"><span id="local-6989586621679235599"><span class="annot"><span class="annottext">Int -&gt; Interval v -&gt; ShowS
[Interval v] -&gt; ShowS
Interval v -&gt; String
(Int -&gt; Interval v -&gt; ShowS)
-&gt; (Interval v -&gt; String)
-&gt; ([Interval v] -&gt; ShowS)
-&gt; Show (Interval v)
forall v. Show v =&gt; Int -&gt; Interval v -&gt; ShowS
forall v. Show v =&gt; [Interval v] -&gt; ShowS
forall v. Show v =&gt; Interval v -&gt; String
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [Interval v] -&gt; ShowS
$cshowList :: forall v. Show v =&gt; [Interval v] -&gt; ShowS
show :: Interval v -&gt; String
$cshow :: forall v. Show v =&gt; Interval v -&gt; String
showsPrec :: Int -&gt; Interval v -&gt; ShowS
$cshowsPrec :: forall v. Show v =&gt; Int -&gt; Interval v -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span>
</span><span id="line-84"></span><span>
</span><span id="line-85"></span><span id="local-6989586621679235593"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679235588"><span id="local-6989586621679235590"><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679235593"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Semigroup</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235593"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-86"></span><span>  </span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span id="local-6989586621679235586"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235586"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679235585"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235585"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621679235584"><span class="annot"><span class="annottext">&lt;&gt; :: Interval v -&gt; Interval v -&gt; Interval v
</span><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;&gt;</span></span></span><span> </span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span id="local-6989586621679235583"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235583"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621679235582"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235582"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">v -&gt; v -&gt; Interval v
forall v. v -&gt; v -&gt; Interval v
</span><a href="Text.Trifecta.Util.IntervalMap.html#Interval"><span class="hs-identifier hs-var">Interval</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">v -&gt; v -&gt; v
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">min</span></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235586"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235583"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">v -&gt; v -&gt; v
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">max</span></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235585"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235582"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-87"></span><span>
</span><span id="line-88"></span><span class="hs-comment">-- assumes the monoid and ordering are compatible.</span><span>
</span><span id="line-89"></span><span id="local-6989586621679235579"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679235579"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679235579"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Reducer</span></span><span> </span><span class="annot"><a href="#local-6989586621679235579"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235579"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-90"></span><span>  </span><span id="local-6989586621679235573"><span class="annot"><span class="annottext">unit :: v -&gt; Interval v
</span><span class="hs-keyword hs-var hs-var hs-var hs-var">unit</span></span></span><span> </span><span id="local-6989586621679235571"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235571"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">v -&gt; v -&gt; Interval v
forall v. v -&gt; v -&gt; Interval v
</span><a href="Text.Trifecta.Util.IntervalMap.html#Interval"><span class="hs-identifier hs-var">Interval</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235571"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235571"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-91"></span><span>  </span><span id="local-6989586621679235570"><span class="annot"><span class="annottext">cons :: v -&gt; Interval v -&gt; Interval v
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">cons</span></span></span><span> </span><span id="local-6989586621679235568"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235568"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span id="local-6989586621679235567"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235567"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679235566"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235566"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">v -&gt; v -&gt; Interval v
forall v. v -&gt; v -&gt; Interval v
</span><a href="Text.Trifecta.Util.IntervalMap.html#Interval"><span class="hs-identifier hs-var">Interval</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235568"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">v -&gt; v -&gt; v
forall a. Monoid a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`mappend`</span></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235567"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235568"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">v -&gt; v -&gt; v
forall a. Monoid a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`mappend`</span></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235566"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-92"></span><span>  </span><span id="local-6989586621679235565"><span class="annot"><span class="annottext">snoc :: Interval v -&gt; v -&gt; Interval v
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">snoc</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span id="local-6989586621679235563"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235563"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679235562"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235562"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679235561"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235561"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">v -&gt; v -&gt; Interval v
forall v. v -&gt; v -&gt; Interval v
</span><a href="Text.Trifecta.Util.IntervalMap.html#Interval"><span class="hs-identifier hs-var">Interval</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235563"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">v -&gt; v -&gt; v
forall a. Monoid a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`mappend`</span></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235561"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235562"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">v -&gt; v -&gt; v
forall a. Monoid a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`mappend`</span></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235561"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-93"></span><span>
</span><span id="line-94"></span><span id="local-6989586621679235560"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679235557"><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="annot"><a href="#local-6989586621679235560"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235560"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-95"></span><span>  </span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span id="local-6989586621679235555"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235555"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679235554"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235554"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621679235553"><span class="annot"><span class="annottext">== :: Interval v -&gt; Interval v -&gt; Bool
</span><span class="hs-operator hs-var hs-var hs-var hs-var">==</span></span></span><span> </span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span id="local-6989586621679235552"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235552"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621679235551"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235551"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235555"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">v -&gt; v -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235552"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235551"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">v -&gt; v -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235554"><span class="hs-identifier hs-var">b</span></a></span></span><span>
</span><span id="line-96"></span><span>
</span><span id="line-97"></span><span id="local-6989586621679235549"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679235535"><span id="local-6989586621679235537"><span id="local-6989586621679235539"><span id="local-6989586621679235541"><span id="local-6989586621679235543"><span id="local-6989586621679235545"><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679235549"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235549"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-98"></span><span>  </span><span id="local-6989586621679235533"><span class="annot"><span class="annottext">compare :: Interval v -&gt; Interval v -&gt; Ordering
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">compare</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span id="local-6989586621679235531"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235531"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679235530"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235530"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span id="local-6989586621679235529"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235529"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621679235528"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235528"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">v -&gt; v -&gt; Ordering
forall a. Ord a =&gt; a -&gt; a -&gt; Ordering
</span><span class="hs-identifier hs-var">compare</span></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235531"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235529"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-99"></span><span>    </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">LT</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">LT</span></span><span>
</span><span id="line-100"></span><span>    </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">EQ</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">v -&gt; v -&gt; Ordering
forall a. Ord a =&gt; a -&gt; a -&gt; Ordering
</span><span class="hs-identifier hs-var">compare</span></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235528"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235530"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="hs-comment">-- reversed to put larger intervals first</span><span>
</span><span id="line-101"></span><span>    </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">GT</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">GT</span></span></span><span>
</span><span id="line-102"></span><span>
</span><span id="line-103"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679235525"><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-104"></span><span>  </span><span id="local-6989586621679235523"><span class="annot"><span class="annottext">fmap :: (a -&gt; b) -&gt; Interval a -&gt; Interval b
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">fmap</span></span></span><span> </span><span id="local-6989586621679235522"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679235522"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span id="local-6989586621679235521"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679235521"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679235520"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679235520"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b -&gt; b -&gt; Interval b
forall v. v -&gt; v -&gt; Interval v
</span><a href="Text.Trifecta.Util.IntervalMap.html#Interval"><span class="hs-identifier hs-var">Interval</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679235522"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679235521"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679235522"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679235520"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-105"></span><span>
</span><span id="line-106"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679235487"><span id="local-6989586621679235489"><span id="local-6989586621679235491"><span id="local-6989586621679235493"><span id="local-6989586621679235495"><span id="local-6989586621679235497"><span id="local-6989586621679235499"><span id="local-6989586621679235501"><span id="local-6989586621679235503"><span id="local-6989586621679235505"><span id="local-6989586621679235507"><span id="local-6989586621679235509"><span id="local-6989586621679235511"><span id="local-6989586621679235513"><span id="local-6989586621679235515"><span id="local-6989586621679235518"><span class="annot"><span class="hs-identifier hs-type">Foldable</span></span><span> </span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-107"></span><span>  </span><span id="local-6989586621679235485"><span class="annot"><span class="annottext">foldMap :: (a -&gt; m) -&gt; Interval a -&gt; m
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">foldMap</span></span></span><span> </span><span id="local-6989586621679235483"><span class="annot"><span class="annottext">a -&gt; m
</span><a href="#local-6989586621679235483"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span id="local-6989586621679235482"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679235482"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679235481"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679235481"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; m
</span><a href="#local-6989586621679235483"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679235482"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">m -&gt; m -&gt; m
forall a. Monoid a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`mappend`</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; m
</span><a href="#local-6989586621679235483"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679235481"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-108"></span><span>
</span><span id="line-109"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679235472"><span id="local-6989586621679235474"><span id="local-6989586621679235476"><span class="annot"><span class="hs-identifier hs-type">Traversable</span></span><span> </span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-110"></span><span>  </span><span id="local-6989586621679235470"><span class="annot"><span class="annottext">traverse :: (a -&gt; f b) -&gt; Interval a -&gt; f (Interval b)
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">traverse</span></span></span><span> </span><span id="local-6989586621679235468"><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679235468"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span id="local-6989586621679235467"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679235467"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679235466"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679235466"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b -&gt; b -&gt; Interval b
forall v. v -&gt; v -&gt; Interval v
</span><a href="Text.Trifecta.Util.IntervalMap.html#Interval"><span class="hs-identifier hs-var">Interval</span></a></span><span> </span><span class="annot"><span class="annottext">(b -&gt; b -&gt; Interval b) -&gt; f b -&gt; f (b -&gt; Interval b)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679235468"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679235467"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">f (b -&gt; Interval b) -&gt; f b -&gt; f (Interval b)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679235468"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679235466"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-111"></span><span>
</span><span id="line-112"></span><span class="hs-keyword">data</span><span> </span><span id="Node"><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#Node"><span class="hs-identifier hs-var">Node</span></a></span></span><span> </span><span id="local-6989586621679235909"><span class="annot"><a href="#local-6989586621679235909"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621679235908"><span class="annot"><a href="#local-6989586621679235908"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Node"><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#Node"><span class="hs-identifier hs-var">Node</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235909"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679235908"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-113"></span><span>
</span><span id="line-114"></span><span id="local-6989586621679235463"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679235460"><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#Node"><span class="hs-identifier hs-type">Node</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235463"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-115"></span><span>  </span><span id="local-6989586621679235459"><span class="annot"><span class="annottext">fmap :: (a -&gt; b) -&gt; Node v a -&gt; Node v b
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">fmap</span></span></span><span> </span><span id="local-6989586621679235458"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679235458"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#Node"><span class="hs-identifier hs-type">Node</span></a></span><span> </span><span id="local-6989586621679235457"><span class="annot"><span class="annottext">Interval v
</span><a href="#local-6989586621679235457"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679235456"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679235456"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Interval v -&gt; b -&gt; Node v b
forall v a. Interval v -&gt; a -&gt; Node v a
</span><a href="Text.Trifecta.Util.IntervalMap.html#Node"><span class="hs-identifier hs-var">Node</span></a></span><span> </span><span class="annot"><span class="annottext">Interval v
</span><a href="#local-6989586621679235457"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679235458"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679235456"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-116"></span><span>
</span><span id="line-117"></span><span id="local-6989586621679235455"><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">WithIndex.FunctorWithIndex</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235455"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#Node"><span class="hs-identifier hs-type">Node</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235455"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-118"></span><span>  </span><span id="local-6989586621679235451"><span class="annot"><span class="annottext">imap :: (Interval v -&gt; a -&gt; b) -&gt; Node v a -&gt; Node v b
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">imap</span></span></span><span> </span><span id="local-6989586621679235449"><span class="annot"><span class="annottext">Interval v -&gt; a -&gt; b
</span><a href="#local-6989586621679235449"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#Node"><span class="hs-identifier hs-type">Node</span></a></span><span> </span><span id="local-6989586621679235448"><span class="annot"><span class="annottext">Interval v
</span><a href="#local-6989586621679235448"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679235447"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679235447"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Interval v -&gt; b -&gt; Node v b
forall v a. Interval v -&gt; a -&gt; Node v a
</span><a href="Text.Trifecta.Util.IntervalMap.html#Node"><span class="hs-identifier hs-var">Node</span></a></span><span> </span><span class="annot"><span class="annottext">Interval v
</span><a href="#local-6989586621679235448"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Interval v -&gt; a -&gt; b
</span><a href="#local-6989586621679235449"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Interval v
</span><a href="#local-6989586621679235448"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679235447"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-119"></span><span>
</span><span id="line-120"></span><span id="local-6989586621679235446"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679235413"><span id="local-6989586621679235415"><span id="local-6989586621679235417"><span id="local-6989586621679235419"><span id="local-6989586621679235421"><span id="local-6989586621679235423"><span id="local-6989586621679235425"><span id="local-6989586621679235427"><span id="local-6989586621679235429"><span id="local-6989586621679235431"><span id="local-6989586621679235433"><span id="local-6989586621679235435"><span id="local-6989586621679235437"><span id="local-6989586621679235439"><span id="local-6989586621679235441"><span id="local-6989586621679235444"><span class="annot"><span class="hs-identifier hs-type">Foldable</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#Node"><span class="hs-identifier hs-type">Node</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235446"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-121"></span><span>  </span><span id="local-6989586621679235412"><span class="annot"><span class="annottext">foldMap :: (a -&gt; m) -&gt; Node v a -&gt; m
</span><a href="#local-6989586621679235412"><span class="hs-identifier hs-var hs-var hs-var hs-var">foldMap</span></a></span></span><span> </span><span id="local-6989586621679235411"><span class="annot"><span class="annottext">a -&gt; m
</span><a href="#local-6989586621679235411"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#Node"><span class="hs-identifier hs-type">Node</span></a></span><span> </span><span class="annot"><span class="annottext">Interval v
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679235410"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679235410"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; m
</span><a href="#local-6989586621679235411"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679235410"><span class="hs-identifier hs-var">x</span></a></span></span><span>
</span><span id="line-122"></span><span>
</span><span id="line-123"></span><span id="local-6989586621679235409"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679235397"><span id="local-6989586621679235399"><span id="local-6989586621679235401"><span id="local-6989586621679235403"><span id="local-6989586621679235405"><span class="annot"><span class="hs-identifier hs-type">WithIndex.FoldableWithIndex</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235409"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#Node"><span class="hs-identifier hs-type">Node</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235409"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-124"></span><span>  </span><span id="local-6989586621679235395"><span class="annot"><span class="annottext">ifoldMap :: (Interval v -&gt; a -&gt; m) -&gt; Node v a -&gt; m
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">ifoldMap</span></span></span><span> </span><span id="local-6989586621679235393"><span class="annot"><span class="annottext">Interval v -&gt; a -&gt; m
</span><a href="#local-6989586621679235393"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#Node"><span class="hs-identifier hs-type">Node</span></a></span><span> </span><span id="local-6989586621679235392"><span class="annot"><span class="annottext">Interval v
</span><a href="#local-6989586621679235392"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621679235391"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679235391"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Interval v -&gt; a -&gt; m
</span><a href="#local-6989586621679235393"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Interval v
</span><a href="#local-6989586621679235392"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679235391"><span class="hs-identifier hs-var">v</span></a></span></span><span>
</span><span id="line-125"></span><span>
</span><span id="line-126"></span><span id="local-6989586621679235390"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679235381"><span id="local-6989586621679235383"><span id="local-6989586621679235385"><span class="annot"><span class="hs-identifier hs-type">Traversable</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#Node"><span class="hs-identifier hs-type">Node</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235390"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-127"></span><span>  </span><span id="local-6989586621679235380"><span class="annot"><span class="annottext">traverse :: (a -&gt; f b) -&gt; Node v a -&gt; f (Node v b)
</span><a href="#local-6989586621679235380"><span class="hs-identifier hs-var hs-var hs-var hs-var">traverse</span></a></span></span><span> </span><span id="local-6989586621679235379"><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679235379"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#Node"><span class="hs-identifier hs-type">Node</span></a></span><span> </span><span id="local-6989586621679235378"><span class="annot"><span class="annottext">Interval v
</span><a href="#local-6989586621679235378"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679235377"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679235377"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Interval v -&gt; b -&gt; Node v b
forall v a. Interval v -&gt; a -&gt; Node v a
</span><a href="Text.Trifecta.Util.IntervalMap.html#Node"><span class="hs-identifier hs-var">Node</span></a></span><span> </span><span class="annot"><span class="annottext">Interval v
</span><a href="#local-6989586621679235378"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">(b -&gt; Node v b) -&gt; f b -&gt; f (Node v b)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679235379"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679235377"><span class="hs-identifier hs-var">x</span></a></span></span><span>
</span><span id="line-128"></span><span>
</span><span id="line-129"></span><span id="local-6989586621679235376"><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">WithIndex.TraversableWithIndex</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235376"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#Node"><span class="hs-identifier hs-type">Node</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235376"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-130"></span><span>  </span><span id="local-6989586621679235370"><span class="annot"><span class="annottext">itraverse :: (Interval v -&gt; a -&gt; f b) -&gt; Node v a -&gt; f (Node v b)
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">itraverse</span></span></span><span> </span><span id="local-6989586621679235368"><span class="annot"><span class="annottext">Interval v -&gt; a -&gt; f b
</span><a href="#local-6989586621679235368"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#Node"><span class="hs-identifier hs-type">Node</span></a></span><span> </span><span id="local-6989586621679235367"><span class="annot"><span class="annottext">Interval v
</span><a href="#local-6989586621679235367"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679235366"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679235366"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Interval v -&gt; b -&gt; Node v b
forall v a. Interval v -&gt; a -&gt; Node v a
</span><a href="Text.Trifecta.Util.IntervalMap.html#Node"><span class="hs-identifier hs-var">Node</span></a></span><span> </span><span class="annot"><span class="annottext">Interval v
</span><a href="#local-6989586621679235367"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">(b -&gt; Node v b) -&gt; f b -&gt; f (Node v b)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Interval v -&gt; a -&gt; f b
</span><a href="#local-6989586621679235368"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Interval v
</span><a href="#local-6989586621679235367"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679235366"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-cpp">

#if !MIN_VERSION_lens(5,0,0)
</span><span id="local-6989586621679235365"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679235361"><span class="annot"><span class="hs-identifier hs-type">Lens.FunctorWithIndex</span></span><span>     </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235365"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#Node"><span class="hs-identifier hs-type">Node</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235365"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679235359"><span class="annot"><span class="annottext">imap :: (Interval v -&gt; a -&gt; b) -&gt; Node v a -&gt; Node v b
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">imap</span></span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Interval v -&gt; a -&gt; b) -&gt; Node v a -&gt; Node v b
forall i (f :: * -&gt; *) a b.
FunctorWithIndex i f =&gt;
(i -&gt; a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">WithIndex.imap</span></span></span><span>
</span><span id="line-134"></span><span id="local-6989586621679235357"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679235345"><span id="local-6989586621679235347"><span id="local-6989586621679235349"><span id="local-6989586621679235351"><span id="local-6989586621679235353"><span class="annot"><span class="hs-identifier hs-type">Lens.FoldableWithIndex</span></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235357"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#Node"><span class="hs-identifier hs-type">Node</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235357"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679235343"><span class="annot"><span class="annottext">ifoldMap :: (Interval v -&gt; a -&gt; m) -&gt; Node v a -&gt; m
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">ifoldMap</span></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Interval v -&gt; a -&gt; m) -&gt; Node v a -&gt; m
forall i (f :: * -&gt; *) m a.
(FoldableWithIndex i f, Monoid m) =&gt;
(i -&gt; a -&gt; m) -&gt; f a -&gt; m
</span><span class="hs-identifier hs-var">WithIndex.ifoldMap</span></span></span><span>
</span><span id="line-135"></span><span id="local-6989586621679235341"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679235335"><span class="annot"><span class="hs-identifier hs-type">Lens.TraversableWithIndex</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235341"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#Node"><span class="hs-identifier hs-type">Node</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235341"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679235333"><span class="annot"><span class="annottext">itraverse :: (Interval v -&gt; a -&gt; f b) -&gt; Node v a -&gt; f (Node v b)
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">itraverse</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Interval v -&gt; a -&gt; f b) -&gt; Node v a -&gt; f (Node v b)
forall i (t :: * -&gt; *) (f :: * -&gt; *) a b.
(TraversableWithIndex i t, Applicative f) =&gt;
(i -&gt; a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><span class="hs-identifier hs-var">WithIndex.itraverse</span></span></span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-138"></span><span class="hs-comment">-- rightmost interval (including largest lower bound) and largest upper bound.</span><span>
</span><span id="line-139"></span><span class="hs-keyword">data</span><span> </span><span id="IntInterval"><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#IntInterval"><span class="hs-identifier hs-var">IntInterval</span></a></span></span><span> </span><span id="local-6989586621679235773"><span class="annot"><a href="#local-6989586621679235773"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="NoInterval"><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#NoInterval"><span class="hs-identifier hs-var">NoInterval</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="IntInterval"><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#IntInterval"><span class="hs-identifier hs-var">IntInterval</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235773"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679235773"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-140"></span><span>
</span><span id="line-141"></span><span id="local-6989586621679235329"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679235324"><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679235329"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#IntInterval"><span class="hs-identifier hs-type">IntInterval</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235329"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-142"></span><span>  </span><span id="local-6989586621679235322"><span class="annot"><span class="annottext">mempty :: IntInterval v
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">mempty</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IntInterval v
forall v. IntInterval v
</span><a href="Text.Trifecta.Util.IntervalMap.html#NoInterval"><span class="hs-identifier hs-var">NoInterval</span></a></span><span>
</span><span id="line-143"></span><span>  </span><span id="local-6989586621679235321"><span class="annot"><span class="annottext">mappend :: IntInterval v -&gt; IntInterval v -&gt; IntInterval v
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">mappend</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IntInterval v -&gt; IntInterval v -&gt; IntInterval v
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(&lt;&gt;)</span></span></span><span>
</span><span id="line-144"></span><span>
</span><span id="line-145"></span><span id="local-6989586621679235320"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679235315"><span id="local-6989586621679235317"><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679235320"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Semigroup</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#IntInterval"><span class="hs-identifier hs-type">IntInterval</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235320"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-146"></span><span>  </span><span class="annot"><span class="annottext">IntInterval v
</span><a href="Text.Trifecta.Util.IntervalMap.html#NoInterval"><span class="hs-identifier hs-var">NoInterval</span></a></span><span> </span><span id="local-6989586621679235314"><span class="annot"><span class="annottext">&lt;&gt; :: IntInterval v -&gt; IntInterval v -&gt; IntInterval v
</span><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;&gt;</span></span></span><span> </span><span id="local-6989586621679235313"><span class="annot"><span class="annottext">IntInterval v
</span><a href="#local-6989586621679235313"><span class="hs-identifier hs-var">i</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IntInterval v
</span><a href="#local-6989586621679235313"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-147"></span><span>  </span><span id="local-6989586621679235312"><span class="annot"><span class="annottext">IntInterval v
</span><a href="#local-6989586621679235312"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">IntInterval v
</span><a href="Text.Trifecta.Util.IntervalMap.html#NoInterval"><span class="hs-identifier hs-var">NoInterval</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IntInterval v
</span><a href="#local-6989586621679235312"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-148"></span><span>  </span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#IntInterval"><span class="hs-identifier hs-type">IntInterval</span></a></span><span> </span><span class="annot"><span class="annottext">Interval v
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679235311"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235311"><span class="hs-identifier hs-var">hi1</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#IntInterval"><span class="hs-identifier hs-type">IntInterval</span></a></span><span> </span><span id="local-6989586621679235310"><span class="annot"><span class="annottext">Interval v
</span><a href="#local-6989586621679235310"><span class="hs-identifier hs-var">int2</span></a></span></span><span> </span><span id="local-6989586621679235309"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235309"><span class="hs-identifier hs-var">hi2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-149"></span><span>    </span><span class="annot"><span class="annottext">Interval v -&gt; v -&gt; IntInterval v
forall v. Interval v -&gt; v -&gt; IntInterval v
</span><a href="Text.Trifecta.Util.IntervalMap.html#IntInterval"><span class="hs-identifier hs-var">IntInterval</span></a></span><span> </span><span class="annot"><span class="annottext">Interval v
</span><a href="#local-6989586621679235310"><span class="hs-identifier hs-var">int2</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">v -&gt; v -&gt; v
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">max</span></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235311"><span class="hs-identifier hs-var">hi1</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235309"><span class="hs-identifier hs-var">hi2</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-150"></span><span>
</span><span id="line-151"></span><span id="local-6989586621679235307"><span id="local-6989586621679235308"><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679235308"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Measured</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#IntInterval"><span class="hs-identifier hs-type">IntInterval</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235308"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#Node"><span class="hs-identifier hs-type">Node</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235308"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235307"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-152"></span><span>  </span><span id="local-6989586621679235303"><span class="annot"><span class="annottext">measure :: Node v a -&gt; IntInterval v
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">measure</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#Node"><span class="hs-identifier hs-type">Node</span></a></span><span> </span><span id="local-6989586621679235301"><span class="annot"><span class="annottext">Interval v
</span><a href="#local-6989586621679235301"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Interval v -&gt; v -&gt; IntInterval v
forall v. Interval v -&gt; v -&gt; IntInterval v
</span><a href="Text.Trifecta.Util.IntervalMap.html#IntInterval"><span class="hs-identifier hs-var">IntInterval</span></a></span><span> </span><span class="annot"><span class="annottext">Interval v
</span><a href="#local-6989586621679235301"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Interval v -&gt; v
forall v. Interval v -&gt; v
</span><a href="Text.Trifecta.Util.IntervalMap.html#high"><span class="hs-identifier hs-var hs-var">high</span></a></span><span> </span><span class="annot"><span class="annottext">Interval v
</span><a href="#local-6989586621679235301"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-153"></span><span>
</span><span id="line-154"></span><span class="hs-comment">-- | Map of closed intervals, possibly with duplicates.</span><span>
</span><span id="line-155"></span><span class="hs-comment">-- The 'Foldable' and 'Traversable' instances process the intervals in</span><span>
</span><span id="line-156"></span><span class="hs-comment">-- lexicographical order.</span><span>
</span><span id="line-157"></span><span class="hs-keyword">newtype</span><span> </span><span id="IntervalMap"><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#IntervalMap"><span class="hs-identifier hs-var">IntervalMap</span></a></span></span><span> </span><span id="local-6989586621679235756"><span class="annot"><a href="#local-6989586621679235756"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621679235755"><span class="annot"><a href="#local-6989586621679235755"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="IntervalMap"><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#IntervalMap"><span class="hs-identifier hs-var">IntervalMap</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="runIntervalMap"><span class="annot"><span class="annottext">IntervalMap v a -&gt; FingerTree (IntInterval v) (Node v a)
</span><a href="Text.Trifecta.Util.IntervalMap.html#runIntervalMap"><span class="hs-identifier hs-var hs-var">runIntervalMap</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FingerTree</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#IntInterval"><span class="hs-identifier hs-type">IntInterval</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235756"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#Node"><span class="hs-identifier hs-type">Node</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235756"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235755"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-158"></span><span class="hs-comment">-- ordered lexicographically by interval</span><span>
</span><span id="line-159"></span><span>
</span><span id="line-160"></span><span id="local-6989586621679235298"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679235295"><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235298"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-161"></span><span>  </span><span id="local-6989586621679235294"><span class="annot"><span class="annottext">fmap :: (a -&gt; b) -&gt; IntervalMap v a -&gt; IntervalMap v b
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">fmap</span></span></span><span> </span><span id="local-6989586621679235293"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679235293"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span id="local-6989586621679235292"><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
</span><a href="#local-6989586621679235292"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v b) -&gt; IntervalMap v b
forall v a.
FingerTree (IntInterval v) (Node v a) -&gt; IntervalMap v a
</span><a href="Text.Trifecta.Util.IntervalMap.html#IntervalMap"><span class="hs-identifier hs-var">IntervalMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Node v a -&gt; Node v b)
-&gt; FingerTree (IntInterval v) (Node v a)
-&gt; FingerTree (IntInterval v) (Node v b)
forall a b v. (a -&gt; b) -&gt; FingerTree v a -&gt; FingerTree v b
</span><span class="hs-identifier hs-var">FT.unsafeFmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; Node v a -&gt; Node v b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679235293"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
</span><a href="#local-6989586621679235292"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-162"></span><span>
</span><span id="line-163"></span><span id="local-6989586621679235290"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679235286"><span class="annot"><span class="hs-identifier hs-type">FunctorWithIndex</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235290"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235290"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-164"></span><span>  </span><span id="local-6989586621679235285"><span class="annot"><span class="annottext">imap :: (Interval v -&gt; a -&gt; b) -&gt; IntervalMap v a -&gt; IntervalMap v b
</span><a href="#local-6989586621679235285"><span class="hs-identifier hs-var hs-var hs-var hs-var">imap</span></a></span></span><span> </span><span id="local-6989586621679235284"><span class="annot"><span class="annottext">Interval v -&gt; a -&gt; b
</span><a href="#local-6989586621679235284"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span id="local-6989586621679235283"><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
</span><a href="#local-6989586621679235283"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v b) -&gt; IntervalMap v b
forall v a.
FingerTree (IntInterval v) (Node v a) -&gt; IntervalMap v a
</span><a href="Text.Trifecta.Util.IntervalMap.html#IntervalMap"><span class="hs-identifier hs-var">IntervalMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Node v a -&gt; Node v b)
-&gt; FingerTree (IntInterval v) (Node v a)
-&gt; FingerTree (IntInterval v) (Node v b)
forall a b v. (a -&gt; b) -&gt; FingerTree v a -&gt; FingerTree v b
</span><span class="hs-identifier hs-var">FT.unsafeFmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Interval v -&gt; a -&gt; b) -&gt; Node v a -&gt; Node v b
forall i (f :: * -&gt; *) a b.
FunctorWithIndex i f =&gt;
(i -&gt; a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">imap</span></span><span> </span><span class="annot"><span class="annottext">Interval v -&gt; a -&gt; b
</span><a href="#local-6989586621679235284"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
</span><a href="#local-6989586621679235283"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-165"></span><span>
</span><span id="line-166"></span><span id="local-6989586621679235282"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679235249"><span id="local-6989586621679235251"><span id="local-6989586621679235253"><span id="local-6989586621679235255"><span id="local-6989586621679235257"><span id="local-6989586621679235259"><span id="local-6989586621679235261"><span id="local-6989586621679235263"><span id="local-6989586621679235265"><span id="local-6989586621679235267"><span id="local-6989586621679235269"><span id="local-6989586621679235271"><span id="local-6989586621679235273"><span id="local-6989586621679235275"><span id="local-6989586621679235277"><span id="local-6989586621679235280"><span class="annot"><span class="hs-identifier hs-type">Foldable</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235282"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-167"></span><span>  </span><span id="local-6989586621679235248"><span class="annot"><span class="annottext">foldMap :: (a -&gt; m) -&gt; IntervalMap v a -&gt; m
</span><a href="#local-6989586621679235248"><span class="hs-identifier hs-var hs-var hs-var hs-var">foldMap</span></a></span></span><span> </span><span id="local-6989586621679235247"><span class="annot"><span class="annottext">a -&gt; m
</span><a href="#local-6989586621679235247"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span id="local-6989586621679235246"><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
</span><a href="#local-6989586621679235246"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Node v a -&gt; m) -&gt; FingerTree (IntInterval v) (Node v a) -&gt; m
forall (t :: * -&gt; *) m a.
(Foldable t, Monoid m) =&gt;
(a -&gt; m) -&gt; t a -&gt; m
</span><span class="hs-identifier hs-var">foldMap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; m) -&gt; Node v a -&gt; m
forall (t :: * -&gt; *) m a.
(Foldable t, Monoid m) =&gt;
(a -&gt; m) -&gt; t a -&gt; m
</span><span class="hs-identifier hs-var">foldMap</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; m
</span><a href="#local-6989586621679235247"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
</span><a href="#local-6989586621679235246"><span class="hs-identifier hs-var">t</span></a></span></span><span>
</span><span id="line-168"></span><span>
</span><span id="line-169"></span><span id="local-6989586621679235245"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679235233"><span id="local-6989586621679235235"><span id="local-6989586621679235237"><span id="local-6989586621679235239"><span id="local-6989586621679235241"><span class="annot"><span class="hs-identifier hs-type">FoldableWithIndex</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235245"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235245"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-170"></span><span>  </span><span id="local-6989586621679235232"><span class="annot"><span class="annottext">ifoldMap :: (Interval v -&gt; a -&gt; m) -&gt; IntervalMap v a -&gt; m
</span><a href="#local-6989586621679235232"><span class="hs-identifier hs-var hs-var hs-var hs-var">ifoldMap</span></a></span></span><span> </span><span id="local-6989586621679235231"><span class="annot"><span class="annottext">Interval v -&gt; a -&gt; m
</span><a href="#local-6989586621679235231"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span id="local-6989586621679235230"><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
</span><a href="#local-6989586621679235230"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Node v a -&gt; m) -&gt; FingerTree (IntInterval v) (Node v a) -&gt; m
forall (t :: * -&gt; *) m a.
(Foldable t, Monoid m) =&gt;
(a -&gt; m) -&gt; t a -&gt; m
</span><span class="hs-identifier hs-var">foldMap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Interval v -&gt; a -&gt; m) -&gt; Node v a -&gt; m
forall i (f :: * -&gt; *) m a.
(FoldableWithIndex i f, Monoid m) =&gt;
(i -&gt; a -&gt; m) -&gt; f a -&gt; m
</span><span class="hs-identifier hs-var">ifoldMap</span></span><span> </span><span class="annot"><span class="annottext">Interval v -&gt; a -&gt; m
</span><a href="#local-6989586621679235231"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
</span><a href="#local-6989586621679235230"><span class="hs-identifier hs-var">t</span></a></span></span><span>
</span><span id="line-171"></span><span>
</span><span id="line-172"></span><span id="local-6989586621679235229"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679235220"><span id="local-6989586621679235222"><span id="local-6989586621679235224"><span class="annot"><span class="hs-identifier hs-type">Traversable</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235229"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-173"></span><span>  </span><span id="local-6989586621679235219"><span class="annot"><span class="annottext">traverse :: (a -&gt; f b) -&gt; IntervalMap v a -&gt; f (IntervalMap v b)
</span><a href="#local-6989586621679235219"><span class="hs-identifier hs-var hs-var hs-var hs-var">traverse</span></a></span></span><span> </span><span id="local-6989586621679235218"><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679235218"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span id="local-6989586621679235217"><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
</span><a href="#local-6989586621679235217"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-174"></span><span>     </span><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v b) -&gt; IntervalMap v b
forall v a.
FingerTree (IntInterval v) (Node v a) -&gt; IntervalMap v a
</span><a href="Text.Trifecta.Util.IntervalMap.html#IntervalMap"><span class="hs-identifier hs-var">IntervalMap</span></a></span><span> </span><span class="annot"><span class="annottext">(FingerTree (IntInterval v) (Node v b) -&gt; IntervalMap v b)
-&gt; f (FingerTree (IntInterval v) (Node v b)) -&gt; f (IntervalMap v b)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">(Node v a -&gt; f (Node v b))
-&gt; FingerTree (IntInterval v) (Node v a)
-&gt; f (FingerTree (IntInterval v) (Node v b))
forall (f :: * -&gt; *) a b v.
Applicative f =&gt;
(a -&gt; f b) -&gt; FingerTree v a -&gt; f (FingerTree v b)
</span><span class="hs-identifier hs-var">FT.unsafeTraverse</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; f b) -&gt; Node v a -&gt; f (Node v b)
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><span class="hs-identifier hs-var">traverse</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679235218"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
</span><a href="#local-6989586621679235217"><span class="hs-identifier hs-var">t</span></a></span></span><span>
</span><span id="line-175"></span><span>
</span><span id="line-176"></span><span id="local-6989586621679235215"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679235209"><span class="annot"><span class="hs-identifier hs-type">TraversableWithIndex</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235215"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235215"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-177"></span><span>  </span><span id="local-6989586621679235208"><span class="annot"><span class="annottext">itraverse :: (Interval v -&gt; a -&gt; f b) -&gt; IntervalMap v a -&gt; f (IntervalMap v b)
</span><a href="#local-6989586621679235208"><span class="hs-identifier hs-var hs-var hs-var hs-var">itraverse</span></a></span></span><span> </span><span id="local-6989586621679235207"><span class="annot"><span class="annottext">Interval v -&gt; a -&gt; f b
</span><a href="#local-6989586621679235207"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span id="local-6989586621679235206"><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
</span><a href="#local-6989586621679235206"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-178"></span><span>     </span><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v b) -&gt; IntervalMap v b
forall v a.
FingerTree (IntInterval v) (Node v a) -&gt; IntervalMap v a
</span><a href="Text.Trifecta.Util.IntervalMap.html#IntervalMap"><span class="hs-identifier hs-var">IntervalMap</span></a></span><span> </span><span class="annot"><span class="annottext">(FingerTree (IntInterval v) (Node v b) -&gt; IntervalMap v b)
-&gt; f (FingerTree (IntInterval v) (Node v b)) -&gt; f (IntervalMap v b)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">(Node v a -&gt; f (Node v b))
-&gt; FingerTree (IntInterval v) (Node v a)
-&gt; f (FingerTree (IntInterval v) (Node v b))
forall (f :: * -&gt; *) a b v.
Applicative f =&gt;
(a -&gt; f b) -&gt; FingerTree v a -&gt; f (FingerTree v b)
</span><span class="hs-identifier hs-var">FT.unsafeTraverse</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Interval v -&gt; a -&gt; f b) -&gt; Node v a -&gt; f (Node v b)
forall i (t :: * -&gt; *) (f :: * -&gt; *) a b.
(TraversableWithIndex i t, Applicative f) =&gt;
(i -&gt; a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><span class="hs-identifier hs-var">itraverse</span></span><span> </span><span class="annot"><span class="annottext">Interval v -&gt; a -&gt; f b
</span><a href="#local-6989586621679235207"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
</span><a href="#local-6989586621679235206"><span class="hs-identifier hs-var">t</span></a></span></span><span>
</span><span id="line-179"></span><span>
</span><span id="line-180"></span><span id="local-6989586621679235204"><span id="local-6989586621679235205"><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679235205"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Measured</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#IntInterval"><span class="hs-identifier hs-type">IntInterval</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235205"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235205"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235204"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-181"></span><span>  </span><span id="local-6989586621679235201"><span class="annot"><span class="annottext">measure :: IntervalMap v a -&gt; IntInterval v
</span><a href="#local-6989586621679235201"><span class="hs-identifier hs-var hs-var hs-var hs-var">measure</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span id="local-6989586621679235200"><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
</span><a href="#local-6989586621679235200"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a) -&gt; IntInterval v
forall v a. Measured v a =&gt; a -&gt; v
</span><span class="hs-identifier hs-var">measure</span></span><span> </span><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
</span><a href="#local-6989586621679235200"><span class="hs-identifier hs-var">m</span></a></span></span></span><span>
</span><span id="line-182"></span><span>
</span><span id="line-183"></span><span id="local-6989586621679235662"><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#largerError"><span class="hs-identifier hs-type">largerError</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679235662"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-184"></span><span id="largerError"><span class="annot"><span class="annottext">largerError :: a
</span><a href="Text.Trifecta.Util.IntervalMap.html#largerError"><span class="hs-identifier hs-var hs-var">largerError</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; a
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Text.Trifecta.IntervalMap.larger: the impossible happened&quot;</span></span><span>
</span><span id="line-185"></span><span>
</span><span id="line-186"></span><span class="hs-comment">-- | /O(m log (n/\//m))/.  Merge two interval maps.</span><span>
</span><span id="line-187"></span><span class="hs-comment">-- The map may contain duplicate intervals; entries with equal intervals</span><span>
</span><span id="line-188"></span><span class="hs-comment">-- are kept in the original order.</span><span>
</span><span id="line-189"></span><span id="local-6989586621679235196"><span id="local-6989586621679235197"><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679235197"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HasUnion</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235197"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235196"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-190"></span><span>  </span><span id="local-6989586621679235193"><span class="annot"><span class="annottext">union :: IntervalMap v a -&gt; IntervalMap v a -&gt; IntervalMap v a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">union</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span id="local-6989586621679235191"><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
</span><a href="#local-6989586621679235191"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span id="local-6989586621679235190"><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
</span><a href="#local-6989586621679235190"><span class="hs-identifier hs-var">ys</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a) -&gt; IntervalMap v a
forall v a.
FingerTree (IntInterval v) (Node v a) -&gt; IntervalMap v a
</span><a href="Text.Trifecta.Util.IntervalMap.html#IntervalMap"><span class="hs-identifier hs-var">IntervalMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
-&gt; FingerTree (IntInterval v) (Node v a)
-&gt; FingerTree (IntInterval v) (Node v a)
forall v a.
Ord v =&gt;
FingerTree (IntInterval v) (Node v a)
-&gt; FingerTree (IntInterval v) (Node v a)
-&gt; FingerTree (IntInterval v) (Node v a)
</span><a href="#local-6989586621679235189"><span class="hs-identifier hs-var">merge1</span></a></span><span> </span><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
</span><a href="#local-6989586621679235191"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
</span><a href="#local-6989586621679235190"><span class="hs-identifier hs-var">ys</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-191"></span><span>    </span><span id="local-6989586621679235189"><span class="annot"><span class="annottext">merge1 :: FingerTree (IntInterval v) (Node v a)
-&gt; FingerTree (IntInterval v) (Node v a)
-&gt; FingerTree (IntInterval v) (Node v a)
</span><a href="#local-6989586621679235189"><span class="hs-identifier hs-var hs-var">merge1</span></a></span></span><span> </span><span id="local-6989586621679235188"><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
</span><a href="#local-6989586621679235188"><span class="hs-keyword hs-var">as</span></a></span></span><span> </span><span id="local-6989586621679235187"><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
</span><a href="#local-6989586621679235187"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
-&gt; ViewL (FingerTree (IntInterval v)) (Node v a)
forall v a.
Measured v a =&gt;
FingerTree v a -&gt; ViewL (FingerTree v) a
</span><span class="hs-identifier hs-var">FT.viewl</span></span><span> </span><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
</span><a href="#local-6989586621679235188"><span class="hs-keyword hs-var">as</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-192"></span><span>      </span><span class="annot"><span class="annottext">ViewL (FingerTree (IntInterval v)) (Node v a)
</span><span class="hs-identifier hs-var">EmptyL</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
</span><a href="#local-6989586621679235187"><span class="hs-identifier hs-var">bs</span></a></span><span>
</span><span id="line-193"></span><span>      </span><span id="local-6989586621679235184"><span class="annot"><span class="annottext">a :: Node v a
</span><a href="#local-6989586621679235184"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#Node"><span class="hs-identifier hs-type">Node</span></a></span><span> </span><span id="local-6989586621679235183"><span class="annot"><span class="annottext">Interval v
</span><a href="#local-6989586621679235183"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:&lt;</span></span><span> </span><span id="local-6989586621679235181"><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
</span><a href="#local-6989586621679235181"><span class="hs-identifier hs-var">as'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
</span><a href="#local-6989586621679235180"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
-&gt; FingerTree (IntInterval v) (Node v a)
-&gt; FingerTree (IntInterval v) (Node v a)
forall v a.
Measured v a =&gt;
FingerTree v a -&gt; FingerTree v a -&gt; FingerTree v a
</span><span class="hs-operator hs-var">&gt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">Node v a
</span><a href="#local-6989586621679235184"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Node v a
-&gt; FingerTree (IntInterval v) (Node v a)
-&gt; FingerTree (IntInterval v) (Node v a)
forall v a. Measured v a =&gt; a -&gt; FingerTree v a -&gt; FingerTree v a
</span><span class="hs-operator hs-var">&lt;|</span></span><span> </span><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
-&gt; FingerTree (IntInterval v) (Node v a)
-&gt; FingerTree (IntInterval v) (Node v a)
</span><a href="#local-6989586621679235179"><span class="hs-identifier hs-var">merge2</span></a></span><span> </span><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
</span><a href="#local-6989586621679235181"><span class="hs-identifier hs-var">as'</span></a></span><span> </span><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
</span><a href="#local-6989586621679235178"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-194"></span><span>        </span><span class="hs-keyword">where</span><span>
</span><span id="line-195"></span><span>          </span><span class="hs-special">(</span><span id="local-6989586621679235180"><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
</span><a href="#local-6989586621679235180"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679235178"><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
</span><a href="#local-6989586621679235178"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(IntInterval v -&gt; Bool)
-&gt; FingerTree (IntInterval v) (Node v a)
-&gt; (FingerTree (IntInterval v) (Node v a),
    FingerTree (IntInterval v) (Node v a))
forall v a.
Measured v a =&gt;
(v -&gt; Bool) -&gt; FingerTree v a -&gt; (FingerTree v a, FingerTree v a)
</span><span class="hs-identifier hs-var">FT.split</span></span><span> </span><span class="annot"><span class="annottext">IntInterval v -&gt; Bool
</span><a href="#local-6989586621679235176"><span class="hs-identifier hs-var">larger</span></a></span><span> </span><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
</span><a href="#local-6989586621679235187"><span class="hs-identifier hs-var">bs</span></a></span><span>
</span><span id="line-196"></span><span>          </span><span id="local-6989586621679235176"><span class="annot"><span class="annottext">larger :: IntInterval v -&gt; Bool
</span><a href="#local-6989586621679235176"><span class="hs-identifier hs-var hs-var">larger</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#IntInterval"><span class="hs-identifier hs-type">IntInterval</span></a></span><span> </span><span id="local-6989586621679235175"><span class="annot"><span class="annottext">Interval v
</span><a href="#local-6989586621679235175"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="annot"><span class="annottext">v
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Interval v
</span><a href="#local-6989586621679235175"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Interval v -&gt; Interval v -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Interval v
</span><a href="#local-6989586621679235183"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-197"></span><span>          </span><span class="annot"><a href="#local-6989586621679235176"><span class="hs-identifier hs-var">larger</span></a></span><span> </span><span class="annot"><span class="annottext">IntInterval v
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
forall a. a
</span><a href="Text.Trifecta.Util.IntervalMap.html#largerError"><span class="hs-identifier hs-var">largerError</span></a></span><span>
</span><span id="line-198"></span><span>    </span><span id="local-6989586621679235179"><span class="annot"><span class="annottext">merge2 :: FingerTree (IntInterval v) (Node v a)
-&gt; FingerTree (IntInterval v) (Node v a)
-&gt; FingerTree (IntInterval v) (Node v a)
</span><a href="#local-6989586621679235179"><span class="hs-identifier hs-var hs-var">merge2</span></a></span></span><span> </span><span id="local-6989586621679235174"><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
</span><a href="#local-6989586621679235174"><span class="hs-keyword hs-var">as</span></a></span></span><span> </span><span id="local-6989586621679235173"><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
</span><a href="#local-6989586621679235173"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
-&gt; ViewL (FingerTree (IntInterval v)) (Node v a)
forall v a.
Measured v a =&gt;
FingerTree v a -&gt; ViewL (FingerTree v) a
</span><span class="hs-identifier hs-var">FT.viewl</span></span><span> </span><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
</span><a href="#local-6989586621679235173"><span class="hs-identifier hs-var">bs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-199"></span><span>      </span><span class="annot"><span class="annottext">ViewL (FingerTree (IntInterval v)) (Node v a)
</span><span class="hs-identifier hs-var">EmptyL</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
</span><a href="#local-6989586621679235174"><span class="hs-keyword hs-var">as</span></a></span><span>
</span><span id="line-200"></span><span>      </span><span id="local-6989586621679235172"><span class="annot"><span class="annottext">b :: Node v a
</span><a href="#local-6989586621679235172"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#Node"><span class="hs-identifier hs-type">Node</span></a></span><span> </span><span id="local-6989586621679235171"><span class="annot"><span class="annottext">Interval v
</span><a href="#local-6989586621679235171"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:&lt;</span></span><span> </span><span id="local-6989586621679235170"><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
</span><a href="#local-6989586621679235170"><span class="hs-identifier hs-var">bs'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
</span><a href="#local-6989586621679235169"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
-&gt; FingerTree (IntInterval v) (Node v a)
-&gt; FingerTree (IntInterval v) (Node v a)
forall v a.
Measured v a =&gt;
FingerTree v a -&gt; FingerTree v a -&gt; FingerTree v a
</span><span class="hs-operator hs-var">&gt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">Node v a
</span><a href="#local-6989586621679235172"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">Node v a
-&gt; FingerTree (IntInterval v) (Node v a)
-&gt; FingerTree (IntInterval v) (Node v a)
forall v a. Measured v a =&gt; a -&gt; FingerTree v a -&gt; FingerTree v a
</span><span class="hs-operator hs-var">&lt;|</span></span><span> </span><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
-&gt; FingerTree (IntInterval v) (Node v a)
-&gt; FingerTree (IntInterval v) (Node v a)
</span><a href="#local-6989586621679235189"><span class="hs-identifier hs-var">merge1</span></a></span><span> </span><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
</span><a href="#local-6989586621679235168"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
</span><a href="#local-6989586621679235170"><span class="hs-identifier hs-var">bs'</span></a></span><span>
</span><span id="line-201"></span><span>        </span><span class="hs-keyword">where</span><span>
</span><span id="line-202"></span><span>          </span><span class="hs-special">(</span><span id="local-6989586621679235169"><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
</span><a href="#local-6989586621679235169"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679235168"><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
</span><a href="#local-6989586621679235168"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(IntInterval v -&gt; Bool)
-&gt; FingerTree (IntInterval v) (Node v a)
-&gt; (FingerTree (IntInterval v) (Node v a),
    FingerTree (IntInterval v) (Node v a))
forall v a.
Measured v a =&gt;
(v -&gt; Bool) -&gt; FingerTree v a -&gt; (FingerTree v a, FingerTree v a)
</span><span class="hs-identifier hs-var">FT.split</span></span><span> </span><span class="annot"><span class="annottext">IntInterval v -&gt; Bool
</span><a href="#local-6989586621679235167"><span class="hs-identifier hs-var">larger</span></a></span><span> </span><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
</span><a href="#local-6989586621679235174"><span class="hs-keyword hs-var">as</span></a></span><span>
</span><span id="line-203"></span><span>          </span><span id="local-6989586621679235167"><span class="annot"><span class="annottext">larger :: IntInterval v -&gt; Bool
</span><a href="#local-6989586621679235167"><span class="hs-identifier hs-var hs-var">larger</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#IntInterval"><span class="hs-identifier hs-type">IntInterval</span></a></span><span> </span><span id="local-6989586621679235166"><span class="annot"><span class="annottext">Interval v
</span><a href="#local-6989586621679235166"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="annot"><span class="annottext">v
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Interval v
</span><a href="#local-6989586621679235166"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Interval v -&gt; Interval v -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Interval v
</span><a href="#local-6989586621679235171"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-204"></span><span>          </span><span class="annot"><a href="#local-6989586621679235167"><span class="hs-identifier hs-var">larger</span></a></span><span> </span><span class="annot"><span class="annottext">IntInterval v
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
forall a. a
</span><a href="Text.Trifecta.Util.IntervalMap.html#largerError"><span class="hs-identifier hs-var">largerError</span></a></span></span></span><span>
</span><span id="line-205"></span><span>
</span><span id="line-206"></span><span id="local-6989586621679235164"><span id="local-6989586621679235165"><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679235165"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HasUnion0</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235165"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235164"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-207"></span><span>  </span><span id="local-6989586621679235160"><span class="annot"><span class="annottext">empty :: IntervalMap v a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">empty</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a) -&gt; IntervalMap v a
forall v a.
FingerTree (IntInterval v) (Node v a) -&gt; IntervalMap v a
</span><a href="Text.Trifecta.Util.IntervalMap.html#IntervalMap"><span class="hs-identifier hs-var">IntervalMap</span></a></span><span> </span><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
forall v a. Measured v a =&gt; FingerTree v a
</span><span class="hs-identifier hs-var">FT.empty</span></span></span></span><span>
</span><span id="line-208"></span><span>
</span><span id="line-209"></span><span id="local-6989586621679235156"><span id="local-6989586621679235157"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679235151"><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679235157"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235157"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235156"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-210"></span><span>  </span><span id="local-6989586621679235150"><span class="annot"><span class="annottext">mempty :: IntervalMap v a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">mempty</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IntervalMap v a
forall f. HasUnion0 f =&gt; f
</span><span class="hs-identifier hs-var">empty</span></span><span>
</span><span id="line-211"></span><span>  </span><span id="local-6989586621679235149"><span class="annot"><span class="annottext">mappend :: IntervalMap v a -&gt; IntervalMap v a -&gt; IntervalMap v a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">mappend</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IntervalMap v a -&gt; IntervalMap v a -&gt; IntervalMap v a
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(&lt;&gt;)</span></span></span></span><span>
</span><span id="line-212"></span><span>
</span><span id="line-213"></span><span id="local-6989586621679235147"><span id="local-6989586621679235148"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679235142"><span id="local-6989586621679235144"><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679235148"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Semigroup</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235148"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235147"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-214"></span><span>  </span><span id="local-6989586621679235141"><span class="annot"><span class="annottext">&lt;&gt; :: IntervalMap v a -&gt; IntervalMap v a -&gt; IntervalMap v a
</span><span class="hs-operator hs-var hs-var hs-var hs-var">(&lt;&gt;)</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IntervalMap v a -&gt; IntervalMap v a -&gt; IntervalMap v a
forall f. HasUnion f =&gt; f -&gt; f -&gt; f
</span><span class="hs-identifier hs-var">union</span></span></span></span><span>
</span><span id="line-215"></span><span>
</span><span id="line-216"></span><span class="hs-comment">-- | /O(n)/. Add a delta to each interval in the map</span><span>
</span><span id="line-217"></span><span id="local-6989586621679235139"><span id="local-6989586621679235140"><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#offset"><span class="hs-identifier hs-type">offset</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679235140"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679235140"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679235140"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235140"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235139"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235140"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235139"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-218"></span><span id="offset"><span class="annot"><span class="annottext">offset :: v -&gt; IntervalMap v a -&gt; IntervalMap v a
</span><a href="Text.Trifecta.Util.IntervalMap.html#offset"><span class="hs-identifier hs-var hs-var">offset</span></a></span></span><span> </span><span id="local-6989586621679235138"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235138"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span id="local-6989586621679235137"><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
</span><a href="#local-6989586621679235137"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a) -&gt; IntervalMap v a
forall v a.
FingerTree (IntInterval v) (Node v a) -&gt; IntervalMap v a
</span><a href="Text.Trifecta.Util.IntervalMap.html#IntervalMap"><span class="hs-identifier hs-var">IntervalMap</span></a></span><span> </span><span class="annot"><span class="annottext">(FingerTree (IntInterval v) (Node v a) -&gt; IntervalMap v a)
-&gt; FingerTree (IntInterval v) (Node v a) -&gt; IntervalMap v a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Node v a -&gt; Node v a)
-&gt; FingerTree (IntInterval v) (Node v a)
-&gt; FingerTree (IntInterval v) (Node v a)
forall v1 a1 v2 a2.
(Measured v1 a1, Measured v2 a2) =&gt;
(a1 -&gt; a2) -&gt; FingerTree v1 a1 -&gt; FingerTree v2 a2
</span><span class="hs-identifier hs-var">FT.fmap'</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#Node"><span class="hs-identifier hs-type">Node</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span id="local-6989586621679235135"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235135"><span class="hs-identifier hs-var">lo</span></a></span></span><span> </span><span id="local-6989586621679235134"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235134"><span class="hs-identifier hs-var">hi</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679235133"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679235133"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Interval v -&gt; a -&gt; Node v a
forall v a. Interval v -&gt; a -&gt; Node v a
</span><a href="Text.Trifecta.Util.IntervalMap.html#Node"><span class="hs-identifier hs-var">Node</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">v -&gt; v -&gt; Interval v
forall v. v -&gt; v -&gt; Interval v
</span><a href="Text.Trifecta.Util.IntervalMap.html#Interval"><span class="hs-identifier hs-var">Interval</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">v -&gt; v -&gt; v
forall a. Monoid a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">mappend</span></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235138"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235135"><span class="hs-identifier hs-var">lo</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">v -&gt; v -&gt; v
forall a. Monoid a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">mappend</span></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235138"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235134"><span class="hs-identifier hs-var">hi</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679235133"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
</span><a href="#local-6989586621679235137"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-219"></span><span>
</span><span id="line-220"></span><span class="hs-comment">-- | /O(1)/.  Interval map with a single entry.</span><span>
</span><span id="line-221"></span><span id="local-6989586621679235131"><span id="local-6989586621679235132"><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#singleton"><span class="hs-identifier hs-type">singleton</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679235132"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235132"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679235131"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235132"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235131"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-222"></span><span id="singleton"><span class="annot"><span class="annottext">singleton :: Interval v -&gt; a -&gt; IntervalMap v a
</span><a href="Text.Trifecta.Util.IntervalMap.html#singleton"><span class="hs-identifier hs-var hs-var">singleton</span></a></span></span><span> </span><span id="local-6989586621679235130"><span class="annot"><span class="annottext">Interval v
</span><a href="#local-6989586621679235130"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679235129"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679235129"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a) -&gt; IntervalMap v a
forall v a.
FingerTree (IntInterval v) (Node v a) -&gt; IntervalMap v a
</span><a href="Text.Trifecta.Util.IntervalMap.html#IntervalMap"><span class="hs-identifier hs-var">IntervalMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Node v a -&gt; FingerTree (IntInterval v) (Node v a)
forall v a. Measured v a =&gt; a -&gt; FingerTree v a
</span><span class="hs-identifier hs-var">FT.singleton</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Interval v -&gt; a -&gt; Node v a
forall v a. Interval v -&gt; a -&gt; Node v a
</span><a href="Text.Trifecta.Util.IntervalMap.html#Node"><span class="hs-identifier hs-var">Node</span></a></span><span> </span><span class="annot"><span class="annottext">Interval v
</span><a href="#local-6989586621679235130"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679235129"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-223"></span><span>
</span><span id="line-224"></span><span class="hs-comment">-- | /O(log n)/.  Insert an interval into a map.</span><span>
</span><span id="line-225"></span><span class="hs-comment">-- The map may contain duplicate intervals; the new entry will be inserted</span><span>
</span><span id="line-226"></span><span class="hs-comment">-- before any existing entries for the same interval.</span><span>
</span><span id="line-227"></span><span id="local-6989586621679235616"><span id="local-6989586621679235617"><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#insert"><span class="hs-identifier hs-type">insert</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679235617"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679235617"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679235617"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679235616"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235617"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235616"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235617"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235616"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-228"></span><span id="insert"><span class="annot"><span class="annottext">insert :: v -&gt; v -&gt; a -&gt; IntervalMap v a -&gt; IntervalMap v a
</span><a href="Text.Trifecta.Util.IntervalMap.html#insert"><span class="hs-identifier hs-var hs-var">insert</span></a></span></span><span> </span><span id="local-6989586621679235127"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235127"><span class="hs-identifier hs-var">lo</span></a></span></span><span> </span><span id="local-6989586621679235126"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235126"><span class="hs-identifier hs-var">hi</span></a></span></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679235125"><span class="annot"><span class="annottext">IntervalMap v a
</span><a href="#local-6989586621679235125"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235127"><span class="hs-identifier hs-var">lo</span></a></span><span> </span><span class="annot"><span class="annottext">v -&gt; v -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235126"><span class="hs-identifier hs-var">hi</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IntervalMap v a
</span><a href="#local-6989586621679235125"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-229"></span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#insert"><span class="hs-identifier hs-var">insert</span></a></span><span> </span><span id="local-6989586621679235123"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235123"><span class="hs-identifier hs-var">lo</span></a></span></span><span> </span><span id="local-6989586621679235122"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235122"><span class="hs-identifier hs-var">hi</span></a></span></span><span> </span><span id="local-6989586621679235121"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679235121"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span id="local-6989586621679235120"><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
</span><a href="#local-6989586621679235120"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a) -&gt; IntervalMap v a
forall v a.
FingerTree (IntInterval v) (Node v a) -&gt; IntervalMap v a
</span><a href="Text.Trifecta.Util.IntervalMap.html#IntervalMap"><span class="hs-identifier hs-var">IntervalMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
</span><a href="#local-6989586621679235119"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
-&gt; FingerTree (IntInterval v) (Node v a)
-&gt; FingerTree (IntInterval v) (Node v a)
forall v a.
Measured v a =&gt;
FingerTree v a -&gt; FingerTree v a -&gt; FingerTree v a
</span><span class="hs-operator hs-var">&gt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">Interval v -&gt; a -&gt; Node v a
forall v a. Interval v -&gt; a -&gt; Node v a
</span><a href="Text.Trifecta.Util.IntervalMap.html#Node"><span class="hs-identifier hs-var">Node</span></a></span><span> </span><span class="annot"><span class="annottext">Interval v
</span><a href="#local-6989586621679235118"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679235121"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Node v a
-&gt; FingerTree (IntInterval v) (Node v a)
-&gt; FingerTree (IntInterval v) (Node v a)
forall v a. Measured v a =&gt; a -&gt; FingerTree v a -&gt; FingerTree v a
</span><span class="hs-operator hs-var">&lt;|</span></span><span> </span><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
</span><a href="#local-6989586621679235117"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-230"></span><span>  </span><span id="local-6989586621679235118"><span class="annot"><span class="annottext">i :: Interval v
</span><a href="#local-6989586621679235118"><span class="hs-identifier hs-var hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">v -&gt; v -&gt; Interval v
forall v. v -&gt; v -&gt; Interval v
</span><a href="Text.Trifecta.Util.IntervalMap.html#Interval"><span class="hs-identifier hs-var">Interval</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235123"><span class="hs-identifier hs-var">lo</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235122"><span class="hs-identifier hs-var">hi</span></a></span><span>
</span><span id="line-231"></span><span>  </span><span class="hs-special">(</span><span id="local-6989586621679235119"><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
</span><a href="#local-6989586621679235119"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679235117"><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
</span><a href="#local-6989586621679235117"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(IntInterval v -&gt; Bool)
-&gt; FingerTree (IntInterval v) (Node v a)
-&gt; (FingerTree (IntInterval v) (Node v a),
    FingerTree (IntInterval v) (Node v a))
forall v a.
Measured v a =&gt;
(v -&gt; Bool) -&gt; FingerTree v a -&gt; (FingerTree v a, FingerTree v a)
</span><span class="hs-identifier hs-var">FT.split</span></span><span> </span><span class="annot"><span class="annottext">IntInterval v -&gt; Bool
</span><a href="#local-6989586621679235116"><span class="hs-identifier hs-var">larger</span></a></span><span> </span><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
</span><a href="#local-6989586621679235120"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-232"></span><span>  </span><span id="local-6989586621679235116"><span class="annot"><span class="annottext">larger :: IntInterval v -&gt; Bool
</span><a href="#local-6989586621679235116"><span class="hs-identifier hs-var hs-var">larger</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#IntInterval"><span class="hs-identifier hs-type">IntInterval</span></a></span><span> </span><span id="local-6989586621679235115"><span class="annot"><span class="annottext">Interval v
</span><a href="#local-6989586621679235115"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="annot"><span class="annottext">v
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Interval v
</span><a href="#local-6989586621679235115"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Interval v -&gt; Interval v -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Interval v
</span><a href="#local-6989586621679235118"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-233"></span><span>  </span><span class="annot"><a href="#local-6989586621679235116"><span class="hs-identifier hs-var">larger</span></a></span><span> </span><span class="annot"><span class="annottext">IntInterval v
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
forall a. a
</span><a href="Text.Trifecta.Util.IntervalMap.html#largerError"><span class="hs-identifier hs-var">largerError</span></a></span><span>
</span><span id="line-234"></span><span>
</span><span id="line-235"></span><span class="hs-comment">-- | /O(k log (n/\//k))/.  All intervals that contain the given interval,</span><span>
</span><span id="line-236"></span><span class="hs-comment">-- in lexicographical order.</span><span>
</span><span id="line-237"></span><span id="local-6989586621679235113"><span id="local-6989586621679235114"><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#dominators"><span class="hs-identifier hs-type">dominators</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679235114"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679235114"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679235114"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235114"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235113"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235114"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679235113"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span></span></span><span>
</span><span id="line-238"></span><span id="dominators"><span class="annot"><span class="annottext">dominators :: v -&gt; v -&gt; IntervalMap v a -&gt; [(Interval v, a)]
</span><a href="Text.Trifecta.Util.IntervalMap.html#dominators"><span class="hs-identifier hs-var hs-var">dominators</span></a></span></span><span> </span><span id="local-6989586621679235112"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235112"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679235111"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235111"><span class="hs-identifier hs-var">j</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">v -&gt; v -&gt; IntervalMap v a -&gt; [(Interval v, a)]
forall v a. Ord v =&gt; v -&gt; v -&gt; IntervalMap v a -&gt; [(Interval v, a)]
</span><a href="Text.Trifecta.Util.IntervalMap.html#intersections"><span class="hs-identifier hs-var">intersections</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235111"><span class="hs-identifier hs-var">j</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235112"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-239"></span><span>
</span><span id="line-240"></span><span class="hs-comment">-- | /O(k log (n/\//k))/.  All intervals that contain the given point,</span><span>
</span><span id="line-241"></span><span class="hs-comment">-- in lexicographical order.</span><span>
</span><span id="line-242"></span><span id="local-6989586621679235109"><span id="local-6989586621679235110"><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#search"><span class="hs-identifier hs-type">search</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679235110"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679235110"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235110"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235109"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235110"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679235109"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span></span></span><span>
</span><span id="line-243"></span><span id="search"><span class="annot"><span class="annottext">search :: v -&gt; IntervalMap v a -&gt; [(Interval v, a)]
</span><a href="Text.Trifecta.Util.IntervalMap.html#search"><span class="hs-identifier hs-var hs-var">search</span></a></span></span><span> </span><span id="local-6989586621679235108"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235108"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">v -&gt; v -&gt; IntervalMap v a -&gt; [(Interval v, a)]
forall v a. Ord v =&gt; v -&gt; v -&gt; IntervalMap v a -&gt; [(Interval v, a)]
</span><a href="Text.Trifecta.Util.IntervalMap.html#intersections"><span class="hs-identifier hs-var">intersections</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235108"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235108"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-244"></span><span>
</span><span id="line-245"></span><span class="hs-comment">-- | /O(k log (n/\//k))/.  All intervals that intersect with the given</span><span>
</span><span id="line-246"></span><span class="hs-comment">-- interval, in lexicographical order.</span><span>
</span><span id="line-247"></span><span id="local-6989586621679235632"><span id="local-6989586621679235633"><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#intersections"><span class="hs-identifier hs-type">intersections</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679235633"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679235633"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679235633"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235633"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235632"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235633"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679235632"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span></span></span><span>
</span><span id="line-248"></span><span id="intersections"><span class="annot"><span class="annottext">intersections :: v -&gt; v -&gt; IntervalMap v a -&gt; [(Interval v, a)]
</span><a href="Text.Trifecta.Util.IntervalMap.html#intersections"><span class="hs-identifier hs-var hs-var">intersections</span></a></span></span><span> </span><span id="local-6989586621679235107"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235107"><span class="hs-identifier hs-var">lo</span></a></span></span><span> </span><span id="local-6989586621679235106"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235106"><span class="hs-identifier hs-var">hi</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span id="local-6989586621679235105"><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
</span><a href="#local-6989586621679235105"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a) -&gt; [(Interval v, a)]
</span><a href="#local-6989586621679235104"><span class="hs-identifier hs-var">matches</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(IntInterval v -&gt; Bool)
-&gt; FingerTree (IntInterval v) (Node v a)
-&gt; FingerTree (IntInterval v) (Node v a)
forall v a.
Measured v a =&gt;
(v -&gt; Bool) -&gt; FingerTree v a -&gt; FingerTree v a
</span><span class="hs-identifier hs-var">FT.takeUntil</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">v -&gt; IntInterval v -&gt; Bool
forall v. Ord v =&gt; v -&gt; IntInterval v -&gt; Bool
</span><a href="Text.Trifecta.Util.IntervalMap.html#greater"><span class="hs-identifier hs-var">greater</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235106"><span class="hs-identifier hs-var">hi</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
</span><a href="#local-6989586621679235105"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-249"></span><span>  </span><span id="local-6989586621679235104"><span class="annot"><span class="annottext">matches :: FingerTree (IntInterval v) (Node v a) -&gt; [(Interval v, a)]
</span><a href="#local-6989586621679235104"><span class="hs-identifier hs-var hs-var">matches</span></a></span></span><span> </span><span id="local-6989586621679235101"><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
</span><a href="#local-6989586621679235101"><span class="hs-identifier hs-var">xs</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
-&gt; ViewL (FingerTree (IntInterval v)) (Node v a)
forall v a.
Measured v a =&gt;
FingerTree v a -&gt; ViewL (FingerTree v) a
</span><span class="hs-identifier hs-var">FT.viewl</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(IntInterval v -&gt; Bool)
-&gt; FingerTree (IntInterval v) (Node v a)
-&gt; FingerTree (IntInterval v) (Node v a)
forall v a.
Measured v a =&gt;
(v -&gt; Bool) -&gt; FingerTree v a -&gt; FingerTree v a
</span><span class="hs-identifier hs-var">FT.dropUntil</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">v -&gt; IntInterval v -&gt; Bool
forall v. Ord v =&gt; v -&gt; IntInterval v -&gt; Bool
</span><a href="Text.Trifecta.Util.IntervalMap.html#atleast"><span class="hs-identifier hs-var">atleast</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235107"><span class="hs-identifier hs-var">lo</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
</span><a href="#local-6989586621679235101"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-250"></span><span>    </span><span class="annot"><span class="annottext">ViewL (FingerTree (IntInterval v)) (Node v a)
</span><span class="hs-identifier hs-var">EmptyL</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-251"></span><span>    </span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#Node"><span class="hs-identifier hs-type">Node</span></a></span><span> </span><span id="local-6989586621679235098"><span class="annot"><span class="annottext">Interval v
</span><a href="#local-6989586621679235098"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679235097"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679235097"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:&lt;</span></span><span> </span><span id="local-6989586621679235096"><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
</span><a href="#local-6989586621679235096"><span class="hs-identifier hs-var">xs'</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Interval v
</span><a href="#local-6989586621679235098"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679235097"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Interval v, a) -&gt; [(Interval v, a)] -&gt; [(Interval v, a)]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a) -&gt; [(Interval v, a)]
</span><a href="#local-6989586621679235104"><span class="hs-identifier hs-var">matches</span></a></span><span> </span><span class="annot"><span class="annottext">FingerTree (IntInterval v) (Node v a)
</span><a href="#local-6989586621679235096"><span class="hs-identifier hs-var">xs'</span></a></span><span>
</span><span id="line-252"></span><span>
</span><span id="line-253"></span><span id="local-6989586621679235095"><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#atleast"><span class="hs-identifier hs-type">atleast</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679235095"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679235095"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#IntInterval"><span class="hs-identifier hs-type">IntInterval</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235095"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span><span>
</span><span id="line-254"></span><span id="atleast"><span class="annot"><span class="annottext">atleast :: v -&gt; IntInterval v -&gt; Bool
</span><a href="Text.Trifecta.Util.IntervalMap.html#atleast"><span class="hs-identifier hs-var hs-var">atleast</span></a></span></span><span> </span><span id="local-6989586621679235094"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235094"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#IntInterval"><span class="hs-identifier hs-type">IntInterval</span></a></span><span> </span><span class="annot"><span class="annottext">Interval v
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679235093"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235093"><span class="hs-identifier hs-var">hi</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235094"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">v -&gt; v -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235093"><span class="hs-identifier hs-var">hi</span></a></span><span>
</span><span id="line-255"></span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#atleast"><span class="hs-identifier hs-var">atleast</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">IntInterval v
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-256"></span><span>
</span><span id="line-257"></span><span id="local-6989586621679235625"><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#greater"><span class="hs-identifier hs-type">greater</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679235625"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679235625"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#IntInterval"><span class="hs-identifier hs-type">IntInterval</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235625"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span><span>
</span><span id="line-258"></span><span id="greater"><span class="annot"><span class="annottext">greater :: v -&gt; IntInterval v -&gt; Bool
</span><a href="Text.Trifecta.Util.IntervalMap.html#greater"><span class="hs-identifier hs-var hs-var">greater</span></a></span></span><span> </span><span id="local-6989586621679235091"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235091"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#IntInterval"><span class="hs-identifier hs-type">IntInterval</span></a></span><span> </span><span id="local-6989586621679235090"><span class="annot"><span class="annottext">Interval v
</span><a href="#local-6989586621679235090"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="annot"><span class="annottext">v
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Interval v -&gt; v
forall v. Interval v -&gt; v
</span><a href="Text.Trifecta.Util.IntervalMap.html#low"><span class="hs-identifier hs-var hs-var">low</span></a></span><span> </span><span class="annot"><span class="annottext">Interval v
</span><a href="#local-6989586621679235090"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">v -&gt; v -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235091"><span class="hs-identifier hs-var">k</span></a></span><span>
</span><span id="line-259"></span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#greater"><span class="hs-identifier hs-var">greater</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">IntInterval v
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-260"></span><span>
</span><span id="line-261"></span><span id="local-6989586621679235088"><span id="local-6989586621679235089"><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#fromList"><span class="hs-identifier hs-type">fromList</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679235089"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679235089"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679235089"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679235088"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Text.Trifecta.Util.IntervalMap.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235089"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235088"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-262"></span><span id="fromList"><span class="annot"><span class="annottext">fromList :: [(v, v, a)] -&gt; IntervalMap v a
</span><a href="Text.Trifecta.Util.IntervalMap.html#fromList"><span class="hs-identifier hs-var hs-var">fromList</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((v, v, a) -&gt; IntervalMap v a -&gt; IntervalMap v a)
-&gt; IntervalMap v a -&gt; [(v, v, a)] -&gt; IntervalMap v a
forall (t :: * -&gt; *) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldr</span></span><span> </span><span class="annot"><span class="annottext">(v, v, a) -&gt; IntervalMap v a -&gt; IntervalMap v a
forall v a.
Ord v =&gt;
(v, v, a) -&gt; IntervalMap v a -&gt; IntervalMap v a
</span><a href="#local-6989586621679235086"><span class="hs-identifier hs-var">ins</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap v a
forall f. HasUnion0 f =&gt; f
</span><span class="hs-identifier hs-var">empty</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-263"></span><span>  </span><span id="local-6989586621679235086"><span class="annot"><span class="annottext">ins :: (v, v, a) -&gt; IntervalMap v a -&gt; IntervalMap v a
</span><a href="#local-6989586621679235086"><span class="hs-identifier hs-var hs-var">ins</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235085"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235085"><span class="hs-identifier hs-var">lo</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679235084"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235084"><span class="hs-identifier hs-var">hi</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679235083"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679235083"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">v -&gt; v -&gt; a -&gt; IntervalMap v a -&gt; IntervalMap v a
forall v a.
Ord v =&gt;
v -&gt; v -&gt; a -&gt; IntervalMap v a -&gt; IntervalMap v a
</span><a href="Text.Trifecta.Util.IntervalMap.html#insert"><span class="hs-identifier hs-var">insert</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235085"><span class="hs-identifier hs-var">lo</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235084"><span class="hs-identifier hs-var">hi</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679235083"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-264"></span></pre></body></html>